{"name":"shunt","tagline":"Simple Shell Testing Pseudo-Framework","body":"\r\n![Simple Shell Testing Pseudo-Framework](screenshots/shunt.png)\r\n\r\n![Simple Shell Testing Pseudo-Framework](screenshots/shunt_verbose.png)\r\n\r\n![Simple Shell Testing Pseudo-Framework](screenshots/shunt_quiet.png)\r\n\r\n### What!? Why?\r\n\r\nFor a recent project, I wanted a very simple way to run some simple tests against my script output.\r\nI know there are a number of these kinds of things out there, but most of the ones I looked at were more complex then I wanted.\r\nTo start, I created a basic shell script to test my scripts, but as I began to add to it, and want more from it, I decided to take\r\na few minutes and build a pseudo-framework out of it.\r\n\r\nI call it a \"pseudo-framework\" because it's really more of a helper, which gives you a handfull of assertions to run against\r\nbash commands. Well, that and it doesn't really have a name.\r\n\r\n### How?\r\n\r\n##### Install\r\n\r\nNote, in shunt `latest` means latest stable version.\r\n\r\n    curl -L https://raw.github.com/jmervine/shunt/master/install.sh | bash\r\n    # installs latest to ~/.bin/shunt\r\n\r\n    curl -L https://raw.github.com/jmervine/shunt/master/install.sh | bash -s master\r\n    # installs master to ~/.bin/shunt\r\n\r\n    curl -L https://raw.github.com/jmervine/shunt/master/install.sh | bash -s global\r\n    # installs latest to /usr/local/bin/shunt\r\n\r\n    curl -L https://raw.github.com/jmervine/shunt/master/install.sh | bash -s master local\r\n    # installs master to ./shunt.sh\r\n\r\n##### Basic Usage\r\n\r\nA basic test file looks like this:\r\n\r\n    # file: tests.sh\r\n\r\n    function run_tests {\r\n    ####################################################\r\n    # Tests go here.\r\n    ####################################################\r\n      COMMAND=\"/path/to/your/command\"\r\n      assert_grep \"$COMMAND\" \"Usage\" \\\r\n        \"deplay usage without params\"\r\n      assert_grep \"$COMMAND --help\" \"Usage\" \\\r\n        \"deplay usage with help\"\r\n      assert_grep \"$COMMAND --arg2 foobar\" \"Usage\" \\\r\n        \"deplay usage without required arg\"\r\n      refute_grep \"$COMMAND --arg1 foobar\" \"Usage\" \\\r\n        \"work with required arg\"\r\n    ####################################################\r\n    }\r\n\r\nRun like this:\r\n\r\n    $ ./shunt.sh ./tests.sh\r\n\r\nUsage:\r\n``` bash\r\nUsage: ./shunt.sh <test files>\r\n\r\nOptions:\r\n--plain    Disable colors and icons.\r\n--quiet    Do not print error messages.\r\n--verbose  Display success messages.\r\n--version  Display version information.\r\n--help     Display this message.\r\n```\r\n\r\n> See `test/testOne.sh` for more examples.\r\n\r\n##### Before / After Hooks\r\n\r\nIn addition to assertion, shunt also supports before and after hooks. Simply define a `before` or `after` function.\r\n\r\n    function before {\r\n        ./some_setup_script.sh\r\n        echo \"Running before shunt assertions.\r\n    }\r\n\r\n    function after {\r\n        ./some_cleanup_script.sh\r\n        echo \"Running after shunt assertions.\r\n    }\r\n\r\n##### Assertions\r\n\r\nHere's a full list of assertions at the time of this writing:\r\n\r\n* `assert \"CMD\" \"FAIL MESSAGE\"`\r\n* `refute \"CMD\" \"FAIL MESSAGE\"`\r\n* `assert_equal \"FIRST\" \"SECOND\" \"FAIL MESSAGE\"`\r\n* `refute_equal \"FIRST\" \"SECOND\" \"FAIL MESSAGE\"`\r\n* `assert_numeq \"FIRST\" \"SECOND\" \"FAIL MESSAGE\"`\r\n* `refute_numeq \"FIRST\" \"SECOND\" \"FAIL MESSAGE\"`\r\n* `assert_grep \"CMD\" \"GREP\" \"FAIL MESSAGE\"`\r\n* `refute_grep \"CMD\" \"GREP\" \"FAIL MESSAGE\"`\r\n* `assert_file \"FILE\" \"FAIL MESSAGE\"`\r\n* `refute_file \"FILE\" \"FAIL MESSAGE\"`\r\n* `assert_dir \"DIR\" \"FAIL MESSAGE\"`\r\n* `refute_dir \"DIR\" \"FAIL MESSAGE\"`\r\n\r\n##### Known Issues\r\n\r\nCurrently, `assert_grep` and `refute_grep` only support a single word, no spaces. I'm sure there's a simple solution to this, but I haven't had\r\na change to troubleshoot it yet and it wasn't an issue for my use case.\r\n\r\n\r\n### Development\r\n\r\n* To run tests use: `make test`\r\n* To update clistyle.sh, use: `make clistyle`\r\n","google":"UA-45296232-1","note":"Don't delete this file! It's used internally to help with page regeneration."}